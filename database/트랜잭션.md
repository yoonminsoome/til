# 트랜잭션(Transaction)

- 하나의 논리적 작업 단위를 의미하며, 데이터의 일관성과 무결성을 보장하기 위해 반드시 모두 성공하거나 모두 실패해야 하는 연산들의 집합이다.
- 여러 개의 SQL 연산(INSERT, UPDATE, DELETE 등)을 하나의 작업 단위로 묶는다.
  - 모든 연산이 성공하면 COMMIT
  - 중간에 하나라도 실패하면 ROLLBACK하여 이전 상태로 복구한다.

## ACID

트랜잭션은 다음 네 가지 성질(ACID)을 반드시 만족해야 한다.

- **원자성(Atomicity)**<br>트랜잭션 내 연산은 모두 수행되거나 전혀 수행되지 않아야 한다.

- **일관성(Consistency)**<br>트랜잭션 전후로 데이터베이스가 정의한 제약 조건을 만족하는 상태를 유지해야 한다.

- **격리성(Isolation)**<br>트랜잭션이 실행되는 동안 다른 트랜잭션이 영향을 받지 않아야 하며 독립적으로 실행되어야 한다.

- **지속성(Durability)**<br>트랜잭션이 성공적으로 완료되면 해당 결과가 영구적으로 데이터베이스에 반영되어야 한다.

### 상태

- **활성(Active)**<br>트랜잭션이 실행 중인 상태

- **부분 완료(Partially Committed)**<br>트랜잭션의 마지막 연산까지 실행했지만 COMMIT 연산이 실행되기 직전의 상태

- **완료(Committed)**<br>트랜잭션이 성공적으로 종료되고 COMMIT 연산까지 실행된 상태

- **실패(Failed)**<br>트랜잭션 실행에 오류가 발생한 상태

- **철회(Aborted)**<br>오류로 인해 트랜잭션이 ROLLBACK되어 이전 상태로 복구된 상태
